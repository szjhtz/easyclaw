# Windows-specific electron-builder configuration
# Extends the base electron-builder.yml (created by W6-A)
# Usage: electron-builder --win --config electron-builder.win.yml

extends: electron-builder.yml

win:
  icon: build/icon.ico
  # Code signing via environment variables:
  #   CSC_LINK  — path or URL to the .pfx / .p12 certificate
  #   CSC_KEY_PASSWORD — certificate password
  # Set these in CI or locally before running the build.
  # If not set, the build will succeed but the binary will be unsigned.

  target:
    - target: nsis
      arch:
        - x64
    - target: portable
      arch:
        - x64

nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
  installerSidebar: build/installerSidebar.png
  uninstallDisplayName: "EasyClaw"
  createDesktopShortcut: true
  createStartMenuShortcut: true
  shortcutName: "EasyClaw"
